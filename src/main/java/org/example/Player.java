package org.example;

import com.googlecode.lanterna.*;
import com.googlecode.lanterna.graphics.TextGraphics;

import java.io.IOException;
import java.util.Arrays;
import java.util.List;

public class Player extends Element implements GameObserver {
    public String facingDirection;

    private String mode = "hunt";
    public int mouthOpen = 0;
    private String playerColor = "#B5D221";
    char[][] pacManUp1;
    char[][] pacManUp2;

    char[][] pacManDown1;
    char[][] pacManDown2;
    char[][] pacManLeft1;
    char[][] pacManLeft2;
    char[][] pacManRight1;
    char[][] pacManClosed;
    char[][] pacManRight2;
    private int frequency = 15;

    public void draw(TextGraphics graphics){
        graphics.setBackgroundColor(TextColor.Factory.fromString(playerColor));

        switch (facingDirection){
            case "right":
                if (mouthOpen<=frequency){
                    drawTheStyle(pacManClosed,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else if (mouthOpen<=frequency*2){
                    drawTheStyle(pacManRight1,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else if (mouthOpen<=frequency*3 ) {
                    drawTheStyle(pacManRight2,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else if (mouthOpen<=frequency*4 ) {
                    drawTheStyle(pacManRight1,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else {
                    mouthOpen = 1;
                    drawTheStyle(pacManClosed,graphics,playerColor);
                }
            case "left":
                if (mouthOpen<=frequency*1){
                    drawTheStyle(pacManClosed,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else if (mouthOpen<=frequency*2){
                    drawTheStyle(pacManLeft1,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else if (mouthOpen<=frequency*3) {
                    drawTheStyle(pacManLeft2,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else if (mouthOpen<=frequency*4) {
                    drawTheStyle(pacManLeft1,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else {
                    mouthOpen = 1;
                    drawTheStyle(pacManClosed,graphics,playerColor);
                    break;
                }
            case "down":
                if (mouthOpen<=frequency*1){
                    drawTheStyle(pacManClosed,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else if (mouthOpen<=frequency*2){
                    drawTheStyle(pacManDown1,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else if (mouthOpen<=frequency*3) {
                    drawTheStyle(pacManDown2,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else if (mouthOpen<=frequency*4) {
                    drawTheStyle(pacManDown1,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else {
                    mouthOpen = 1;
                    drawTheStyle(pacManClosed,graphics,playerColor);
                    break;
                }
            case "up":
                if (mouthOpen<=frequency){
                    drawTheStyle(pacManClosed,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else if (mouthOpen<=frequency*2){
                    drawTheStyle(pacManUp1,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else if (mouthOpen<=frequency*3) {
                    drawTheStyle(pacManUp2,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else if (mouthOpen<=frequency*4) {
                    drawTheStyle(pacManUp1,graphics,playerColor);
                    mouthOpen++;
                    break;
                }
                else {
                    mouthOpen = 1;
                    drawTheStyle(pacManClosed,graphics,playerColor);
                    break;
                }
        }
    }
    public Player(int x, int y){
        super(x,y);
        facingDirection = "right";


        pacManUp1 = new char[][]{
                {'#','#','#','#','#','#','#','#','#','#','#','#','#','#'},
                {'#','#',' ',' ','#','#','#','#','#','#',' ',' ','#','#'},
                {'#',' ',' ',' ','#','#','#','#','#','#',' ',' ',' ','#'},
                {'#',' ',' ',' ',' ','#','#','#','#',' ',' ',' ',' ','#'},
                {' ',' ',' ',' ',' ','#','#','#','#',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ','#','#','#','#',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ','#','#',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ','#','#',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#'},
                {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'}
        };
        pacManUp2 = new char[][]{
                 {'#','#','#','#','#','#','#','#','#','#','#','#','#','#'},
                 {'#','#','#','#','#','#','#','#','#','#','#','#','#','#'},
                 {'#','#','#','#','#','#','#','#','#','#','#','#','#','#'},
                 {'#',' ','#','#','#','#','#','#','#','#','#','#',' ','#'},
                 {' ',' ',' ','#','#','#','#','#','#','#','#',' ',' ',' '},
                 {' ',' ',' ',' ','#','#','#','#','#','#',' ',' ',' ',' '},
                 {' ',' ',' ',' ',' ','#','#','#','#',' ',' ',' ',' ',' '},
                 {' ',' ',' ',' ',' ',' ','#','#',' ',' ',' ',' ',' ',' '},
                 {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                 {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                 {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                 {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                 {'#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#'},
                 {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'}
        };
        pacManDown1 = new char[][]{
                {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'},
                {'#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ','#','#',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ','#','#',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ','#','#','#','#',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ','#','#','#','#',' ',' ',' ',' ',' '},
                {'#',' ',' ',' ',' ','#','#','#','#',' ',' ',' ',' ','#'},
                {'#',' ',' ',' ','#','#','#','#','#','#',' ',' ',' ','#'},
                {'#','#',' ',' ','#','#','#','#','#','#',' ',' ','#','#'},
                {'#','#','#','#','#','#','#','#','#','#','#','#','#','#'}
        };
        pacManDown2 = new char[][]{
                {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'},
                {'#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ','#','#',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ','#','#','#','#',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ','#','#','#','#','#','#',' ',' ',' ',' '},
                {' ',' ',' ','#','#','#','#','#','#','#','#',' ',' ',' '},
                {'#',' ','#','#','#','#','#','#','#','#','#','#',' ','#'},
                {'#','#','#','#','#','#','#','#','#','#','#','#','#','#'},
                {'#','#','#','#','#','#','#','#','#','#','#','#','#','#'},
                {'#','#','#','#','#','#','#','#','#','#','#','#','#','#'}
        };
        pacManLeft1 = new char[][]{
                {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'},
                {'#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#','#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {'#','#','#','#','#','#',' ',' ',' ',' ',' ',' ',' ',' '},
                {'#','#','#','#','#','#','#','#',' ',' ',' ',' ',' ',' '},
                {'#','#','#','#','#','#','#','#',' ',' ',' ',' ',' ',' '},
                {'#','#','#','#','#','#',' ',' ',' ',' ',' ',' ',' ',' '},
                {'#','#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#'},
                {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'}


        };
        pacManLeft2 = new char[][]{
                {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'},
                {'#','#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#'},
                {'#','#','#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#','#','#','#','#',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#','#','#','#','#','#',' ',' ',' ',' ',' ',' ',' ',' '},
                {'#','#','#','#','#','#','#',' ',' ',' ',' ',' ',' ',' '},
                {'#','#','#','#','#','#','#','#',' ',' ',' ',' ',' ',' '},
                {'#','#','#','#','#','#','#','#',' ',' ',' ',' ',' ',' '},
                {'#','#','#','#','#','#','#',' ',' ',' ',' ',' ',' ',' '},
                {'#','#','#','#','#','#',' ',' ',' ',' ',' ',' ',' ',' '},
                {'#','#','#','#','#',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#','#','#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#','#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#'},
                {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'}
        };


        pacManRight1 = new char[][]{
                {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'},
                {'#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#','#'},
                {' ',' ',' ',' ',' ',' ',' ',' ','#','#','#','#','#','#'},
                {' ',' ',' ',' ',' ',' ','#','#','#','#','#','#','#','#'},
                {' ',' ',' ',' ',' ',' ','#','#','#','#','#','#','#','#'},
                {' ',' ',' ',' ',' ',' ',' ',' ','#','#','#','#','#','#'},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#'},
                {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'}
        };
        pacManRight2 = new char[][]{
                {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'},
                {'#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#','#','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ','#','#','#','#','#'},
                {' ',' ',' ',' ',' ',' ',' ',' ','#','#','#','#','#','#'},
                {' ',' ',' ',' ',' ',' ',' ','#','#','#','#','#','#','#'},
                {' ',' ',' ',' ',' ',' ','#','#','#','#','#','#','#','#'},
                {' ',' ',' ',' ',' ',' ','#','#','#','#','#','#','#','#'},
                {' ',' ',' ',' ',' ',' ',' ','#','#','#','#','#','#','#'},
                {' ',' ',' ',' ',' ',' ',' ',' ','#','#','#','#','#','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ','#','#','#','#','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#','#','#'},
                {'#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#','#'},
                {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'}
        };
        pacManClosed = new char[][]{
                {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'},
                {'#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' '},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#'},
                {'#','#',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','#','#'},
                {'#','#','#','#',' ',' ',' ',' ',' ',' ','#','#','#','#'}
        };

    }
    public void move(String direction){
        facingDirection = direction;
        switch (direction){
            case "up":
                position = moveUp();
                break;
            case "down":
                position = moveDown();
                break;
            case "left":
                position = moveLeft();
                break;
            case "right":
                position = moveRight();
                break;
        }
    }

    @Override
    public void HuntHourStarted() {
        mode = "hunt";
    }

    @Override
    public void HuntHourEnded() {
        mode = "fright";
    }
}
